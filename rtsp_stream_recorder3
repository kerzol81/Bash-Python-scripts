#!/usr/bin/python


class videoserver:
	vendor = ''
	ip = ''
	port = 554
	username = ''
	password = ''
	
	def get_rtsp_stream(self):
		if self.vendor == 'vivotek':
			self.username = 'root'
			return 'rtsp://%s:%s@%s:%d/live2.sdp' % (self.username, self.password, self.ip, self.port)

		elif self.vendor == 'axis':
			self.username = 'admin'
			return 'rtsp://%s:%s@%s/axis-media/media.amp' % (self.username, self.password, self.ip)
		
		else:
			print 'no vendor specified'
			
		def record(self):
		os.system('vlc %s -I dummy --run-time %s --play-and-exit --sout %s/`date +%%Y-%%m-%%d__%s`/`date +%%Y-%%m-%%d__%%H_%%M`.mp4' % (self.get_rtsp_stream(),self.recording_seconds,self.recording_folder,self.ip))
